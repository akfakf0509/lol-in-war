import{_ as T,a as L}from"./Result.8e10f8ee.js";import{d as $,r as C,t as _,v as f,z as g,L as M,M as F,N as h,x as a,O as V,P as D,C as S,D as P,_ as b,y as k,Q as w,R as U,S as B,T as E,u as O,U as H}from"./entry.240cd02d.js";const z=n=>(S("data-v-f13d539f"),n=n(),P(),n),J=z(()=>a("button",{type:"submit"},"추가",-1)),Q=$({__name:"ParticipantForm",emits:["submit"],setup(n,{emit:r}){const o=r,t=C("");function v(){t.value&&(o("submit",t.value),t.value="")}return(i,c)=>{const p=T;return _(),f("form",{class:"form",onSubmit:c[1]||(c[1]=D(u=>v(),["prevent"]))},[g(p,{text:"참가자 추가"}),M(a("input",{"onUpdate:modelValue":c[0]||(c[0]=u=>V(t)?t.value=u:null),class:"form__input"},null,512),[[F,h(t)]]),J],32)}}});const Z=b(Q,[["__scopeId","data-v-f13d539f"]]),N=n=>(S("data-v-559d80a5"),n=n(),P(),n),j={class:"participant"},q=["textContent"],A=N(()=>a("hr",{class:"participant__hr"},null,-1)),G=N(()=>a("p",{class:"participant__tier-title",textContent:"티어 선택"},null,-1)),K={class:"tier"},W=["textContent","data-active","onClick"],X=$({__name:"Participant",props:{name:{},tier:{}},emits:["update:tier"],setup(n,{emit:r}){const o=r;return(t,v)=>(_(),f("li",j,[a("p",{class:"participant__name",textContent:k(t.name)},null,8,q),A,G,a("div",K,[(_(),f(w,null,U(3,i=>a("button",{key:i,class:"tier__item",textContent:k(`${i} Tier`),"data-active":t.tier===i,onClick:c=>o("update:tier",i)},null,8,W)),64))])]))}});const Y=b(X,[["__scopeId","data-v-559d80a5"]]),tt={class:"participants"},et={class:"participants__list"},nt=$({__name:"ParticipantList",props:{participants:{}},emits:["update:tier"],setup(n,{emit:r}){const o=r;return(t,v)=>{const i=T,c=Y;return _(),f("section",tt,[g(i,{text:"참가자 목록"}),a("ul",et,[(_(!0),f(w,null,U(t.participants,(p,u)=>(_(),B(c,E({key:p.name},p,{"onUpdate:tier":y=>o("update:tier",u,y)}),null,16,["onUpdate:tier"]))),128))])])}}});const st=b(nt,[["__scopeId","data-v-0a6b71e4"]]),at=n=>(S("data-v-4f95dffc"),n=n(),P(),n),ot={class:"page"},it=at(()=>a("hr",{class:"page__hr"},null,-1)),ct=$({__name:"index",setup(n){const r=O(),o=C([]),t=C([[],[]]);function v(e){o.value.push({name:e,tier:0})}function i(e,s){o.value[e].tier=s}function c(){t.value=u()}function p(){const e=JSON.stringify(t.value),s=R(e);r.replace(`/result?v=${encodeURIComponent(s)}`)}function u(){const e=[...o.value],s=[[],[]],l=[0,0,0,0];for(;e.length>0;){const x=y(e.length),d=e[x],m=l[d.tier];s[m].length<5?s[m].push(d):s[I(m)].push(d),l[d.tier]=I(m),e.splice(x,1)}return s}function y(e){return Math.floor(Math.random()*e)}function I(e){return e===0?1:0}function R(e){const s=new TextEncoder().encode(e),l=String.fromCodePoint(...s);return btoa(l)}return(e,s)=>{const l=Z,x=st,d=L;return _(),f("main",ot,[g(l,{onSubmit:v,class:"page__section"}),g(x,{participants:h(o),class:"page__section","onUpdate:tier":i},null,8,["participants"]),a("button",{class:"page__create",onClick:s[0]||(s[0]=m=>c())},"생성 하기"),a("button",{class:"page__create",onClick:s[1]||(s[1]=m=>p())},"내보내기"),it,h(t)[0].length?(_(),B(d,{key:0,team1:h(t)[0],team2:h(t)[1]},null,8,["team1","team2"])):H("",!0)])}}});const pt=b(ct,[["__scopeId","data-v-4f95dffc"]]);export{pt as default};
